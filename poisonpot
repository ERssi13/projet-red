package main

import (
	"fmt"
	"time"
)

var c int

type Joueur struct {
	nom         string
	vieActuelle int
	vieMax      int
}
type Ennemi struct {
	nom string
	vieactuelle int
	viemax int
}
func poisonPot(j *Joueur ,e *Ennemi) {
	fmt.Println("Que voulez-vous faire avec la potion ?")
	fmt.Println("1- Jeter la potion sur un ennemi")
	fmt.Println("2- Boire la potion")
	fmt.Print("Votre choix : ")
	fmt.Scan(&c)
	switch c {
	case 1:
		fmt.Println("Vous avez jeté la potion sur un ennemi.")
		fmt.Println("e.nom est empoisonné")
		for i := 1; i <= 3; i++ {
			time.Sleep(1 * time.Second)
			e.vieactuelle -= 5
			if e.vieactuelle < 0 {
				e.vieactuelle = 0
			}
			fmt.Printf("Seconde %d: Vie actuelle de %s: %d/%d\n", i, e.nom, e.vieactuelle, e.viemax)
		}
		fmt.Printf("%s n'est plus empoisonné", e.nom)
	case 2:
		fmt.Println("Vous avez bu la potion.")
		fmt.Println("Vous etes empoisonné ")
	for i := 1; i <= 3; i++ {
			time.Sleep(1 * time.Second)
			j.vieActuelle -= 10
			if j.vieActuelle < 0 {
				j.vieActuelle = 0
			}
			fmt.Printf("Seconde %d: Vie actuelle de %s: %d/%d\n", i, j.nom, j.vieActuelle, j.vieMax)
		}
		fmt.Println("Vous n'etes plus empoisonné.")
	default:
		fmt.Println("Choix invalide.")
	}
}

func main() {
	joueur := Joueur{
		nom:         "Aventurier",
		vieActuelle: 100,
		vieMax:      100,
	}
	ennemi := Ennemi{
		nom: "Gobelin",
		vieactuelle: 60,
		viemax: 60,
	}
	poisonPot(&joueur,&ennemi)
}
